(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[150],{1570:function(e){e.exports=JSON.parse('{"version":"0.1.0","name":"solview_staking","instructions":[{"name":"initialize","accounts":[{"name":"authority","isMut":false,"isSigner":false},{"name":"stakingMint","isMut":false,"isSigner":false},{"name":"stakingVault","isMut":false,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"pool","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"poolNonce","type":"u8"}]},{"name":"createUser","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"owner","isMut":false,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"pause","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"unpause","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"stake","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"owner","isMut":false,"isSigner":true},{"name":"stakeFromAccount","isMut":true,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"stakingType","type":"u64"}]},{"name":"unstake","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"owner","isMut":false,"isSigner":true},{"name":"stakeFromAccount","isMut":true,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"sptAmount","type":"u64"},{"name":"stakingType","type":"u64"}]},{"name":"authorizeFunder","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"funderToAdd","type":"publicKey"}]},{"name":"deauthorizeFunder","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"funderToRemove","type":"publicKey"}]},{"name":"fundStaking","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"funder","isMut":true,"isSigner":true},{"name":"from","isMut":true,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdraw","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"funder","isMut":true,"isSigner":true},{"name":"from","isMut":true,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"claim","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"owner","isMut":false,"isSigner":true},{"name":"rewardAAccount","isMut":true,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"stakingType","type":"u64"}]},{"name":"closeUser","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":false},{"name":"owner","isMut":false,"isSigner":true}],"args":[]},{"name":"closePool","accounts":[{"name":"refundee","isMut":true,"isSigner":false},{"name":"stakingRefundee","isMut":true,"isSigner":false},{"name":"rewardARefundee","isMut":true,"isSigner":false},{"name":"pool","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"stakingVault","isMut":true,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"Pool","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"nonce","type":"u8"},{"name":"paused","type":"bool"},{"name":"stakingMint","type":"publicKey"},{"name":"stakingVault","type":"publicKey"},{"name":"userStakeCount","type":"u32"},{"name":"funders","type":{"array":["publicKey",5]}},{"name":"adminRewardAmount","type":"u64"}]}},{"name":"User","type":{"kind":"struct","fields":[{"name":"pool","type":"publicKey"},{"name":"owner","type":"publicKey"},{"name":"rewardA","type":"u64"},{"name":"rewardB","type":"u64"},{"name":"rewardC","type":"u64"},{"name":"rewardARate","type":"u64"},{"name":"rewardBRate","type":"u64"},{"name":"rewardCRate","type":"u64"},{"name":"balanceStakedA","type":"u64"},{"name":"balanceStakedB","type":"u64"},{"name":"balanceStakedC","type":"u64"},{"name":"lastUpdateTimeA","type":"u64"},{"name":"lastUpdateTimeB","type":"u64"},{"name":"lastUpdateTimeC","type":"u64"},{"name":"stakeTimeA","type":"u64"},{"name":"stakeTimeB","type":"u64"},{"name":"stakeTimeC","type":"u64"},{"name":"nonce","type":"u8"},{"name":"stakingType","type":"u64"}]}}],"errors":[{"code":6000,"name":"InsufficientFundUnstake","msg":"Insufficient funds to unstake."},{"code":6001,"name":"AmountMustBeGreaterThanZero","msg":"Amount must be greater than zero."},{"code":6002,"name":"SingleStakeTokenBCannotBeFunded","msg":"Reward B cannot be funded - pool is single stake."},{"code":6003,"name":"PoolPaused","msg":"Pool is paused."},{"code":6004,"name":"DurationTooShort","msg":"Duration cannot be shorter than one day."},{"code":6005,"name":"FunderAlreadyAuthorized","msg":"Provided funder is already authorized to fund."},{"code":6006,"name":"MaxFunders","msg":"Maximum funders already authorized."},{"code":6007,"name":"CannotDeauthorizePoolAuthority","msg":"Cannot deauthorize the primary pool authority."},{"code":6008,"name":"CannotDeauthorizeMissingAuthority","msg":"Authority not found for deauthorization."},{"code":6009,"name":"NotEnoughUnstakePeriod","msg":"Can unstake only after 30 days more."}],"metadata":{"address":"E4VP5CqmKCy7HLzCyZg3FaKLoCE5M9nLhyZLWPMjeeQ6"}}')},1571:function(e){e.exports=JSON.parse("[64,200,108,242,133,242,106,79,112,146,59,65,23,206,18,56,214,156,79,117,24,229,189,59,125,204,76,220,161,156,71,240,159,201,189,100,78,137,179,88,68,36,209,81,197,121,107,194,134,70,122,97,46,204,104,64,151,145,196,36,241,153,179,244]")},2014:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(440),s=t(441),i=t(214),u=t.n(i),c=t(452),o=t(453),l=t.n(o),m=t(461),f=t(23),p=t(442),d=t(443),g=t(454),b=t(926),y=t(941),j=t(431),h=t(467),S=t(1251),k=t(1568),x=t(1570),O=t(1571),M=t(1293),w=t(1404),P=t(7);t(745);S.e.SystemProgram;var A=S.e.Keypair,K=(S.e.SYSVAR_CLOCK_PUBKEY,new h.PublicKey("E4VP5CqmKCy7HLzCyZg3FaKLoCE5M9nLhyZLWPMjeeQ6")),v=A.fromSecretKey(new Uint8Array(O)),C="processed",B=function(){var e=Object(M.b)().publicKey,n=Object(M.b)(),t=Object(w.b)().connection,i=Object(a.useState)(0),u=Object(f.a)(i,2),c=u[0],o=u[1],O=Object(a.useState)(0),A=Object(f.a)(O,2),B=A[0],T=A[1],V=Object(a.useState)(0),R=Object(f.a)(V,2),F=R[0],L=R[1],Q=Object(a.useState)(0),J=Object(f.a)(Q,2),z=J[0],N=J[1],W=function(){var e=Object(m.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new S.c(t,n,C),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,r,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.publicKey){e.next=2;break}return e.abrupt("return",0);case 2:return e.next=4,W();case 4:return a=e.sent,e.next=7,a.connection.getTokenAccountsByOwner(n.publicKey,{mint:t});case 7:if(0!==(r=e.sent).value.length){e.next=10;break}return e.abrupt("return",0);case 10:return s=r.value.pop(),e.next=13,a.connection.getTokenAccountBalance(s.pubkey);case 13:i=e.sent.value,o(i.uiAmount),console.log(c,"balance");case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(l.a.mark((function e(){var n,t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return n=e.sent,t=new S.b(x,K,n),e.next=6,t.account.pool.fetch(v.publicKey);case 6:a=e.sent,N(a.adminRewardAmount.toNumber()/S.e.LAMPORTS_PER_SOL),console.log(a,"poolObject");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,r,s,i,u,o,m,p,d,g,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=3;break}return alert("Balance is 0!"),e.abrupt("return");case 3:if(!(t>c)){e.next=6;break}return alert("This is more than your balance!"),e.abrupt("return");case 6:return e.next=8,W();case 8:return a=e.sent,r=new S.b(x,K,a),s=v.publicKey,e.next=13,r.account.pool.fetch(s);case 13:return i=e.sent,u=new k.b(a.connection,new h.PublicKey("7WaHiTbeYJNk69prYJphFnQXVWmARFbfrQ7PLpkQfGBH"),k.a,a.wallet.payer),e.next=17,u.getOrCreateAssociatedAccountInfo(n.publicKey);case 17:return o=e.sent,m=o.address,console.log(m.toBase58(),"stakingpubkey"),e.next=22,h.PublicKey.findProgramAddress([s.toBuffer()],K);case 22:return p=e.sent,d=Object(f.a)(p,2),g=d[0],d[1],b=g,e.prev=27,e.next=30,r.rpc.fundStaking(new S.a(t*S.e.LAMPORTS_PER_SOL),{accounts:{pool:s,stakingVault:i.stakingVault,funder:a.wallet.publicKey,from:m,poolSigner:b,tokenProgram:k.a}});case 30:H(),E(new h.PublicKey("7WaHiTbeYJNk69prYJphFnQXVWmARFbfrQ7PLpkQfGBH")),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(27),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[27,34]])})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,r,s,i,u,c,o,m,p,d,g;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"as"),e.next=3,W();case 3:if("9BqViyehpiQjn1ZHDcJt321JRBVxJj9ouCKjfLmMGrtX"!==(a=e.sent).wallet.publicKey.toBase58()&&"5QFcQWUk7d7ByNCXxCyKNiui21TyMzX3grfSKk6PbnRK"!==a.wallet.publicKey.toBase58()){e.next=42;break}if(0!==t){e.next=8;break}return alert("Balance is 0!"),e.abrupt("return");case 8:if(!(t>z)){e.next=11;break}return alert("This is more than your balance!"),e.abrupt("return");case 11:return r=new S.b(x,K,a),console.log(r),console.log(K.toBase58()),s=v.publicKey,e.next=17,r.account.pool.fetch(s);case 17:return i=e.sent,u=new k.b(a.connection,new h.PublicKey("7WaHiTbeYJNk69prYJphFnQXVWmARFbfrQ7PLpkQfGBH"),k.a,a.wallet.payer),e.next=21,u.getOrCreateAssociatedAccountInfo(n.publicKey);case 21:return c=e.sent,o=c.address,e.next=25,h.PublicKey.findProgramAddress([s.toBuffer()],K);case 25:return m=e.sent,p=Object(f.a)(m,2),d=p[0],p[1],g=d,e.prev=30,e.next=33,r.rpc.withdraw(new S.a(t*S.e.LAMPORTS_PER_SOL),{accounts:{pool:s,stakingVault:i.stakingVault,funder:a.wallet.publicKey,from:o,poolSigner:g,tokenProgram:k.a}});case 33:H(),E(new h.PublicKey("7WaHiTbeYJNk69prYJphFnQXVWmARFbfrQ7PLpkQfGBH")),e.next=40;break;case 37:e.prev=37,e.t0=e.catch(30),console.log(e.t0);case 40:e.next=43;break;case 42:alert("You aren't admin!");case 43:case"end":return e.stop()}}),e,null,[[30,37]])})));return function(n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){e&&(H(),E(new h.PublicKey("7WaHiTbeYJNk69prYJphFnQXVWmARFbfrQ7PLpkQfGBH"))),console.log(e,"wallet")}),[e]),Object(P.jsx)(p.a,{children:Object(P.jsxs)(d.a,{children:[Object(P.jsxs)(r.a,{children:[Object(P.jsx)(s.a,{md:"6",sm:"12",children:Object(P.jsxs)(g.a,{children:["SOLV Balance: ",c?c.toFixed(4):0," SOLV"]})}),Object(P.jsx)(s.a,{md:"6",sm:"12",children:Object(P.jsxs)(g.a,{children:["Reward Amount: ",z?z.toFixed(4):0," SOLV"]})})]}),Object(P.jsxs)(r.a,{children:[Object(P.jsx)(s.a,{md:"6",sm:"12",children:Object(P.jsxs)(r.a,{children:[Object(P.jsx)(s.a,{md:"12",sm:"12",children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(g.a,{for:"input",children:"Deposit"}),Object(P.jsx)(y.a,{type:"text",value:B,onChange:function(e){return T(e.target.value)},id:"url"})]})}),Object(P.jsx)(s.a,{md:"12",sm:"12",children:Object(P.jsxs)(r.a,{children:[Object(P.jsx)(s.a,{md:"6",sm:"6",children:Object(P.jsx)(j.a,{onClick:function(){return T(c)},children:"MAX"})}),Object(P.jsx)(s.a,{md:"6",sm:"6",children:Object(P.jsx)(j.a,{onClick:function(){return Y(B)},children:"APPROVE"})})]})})]})}),Object(P.jsx)(s.a,{md:"6",sm:"12",children:Object(P.jsxs)(r.a,{children:[Object(P.jsx)(s.a,{me:"12",sm:"12",children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(g.a,{for:"input",children:"Withdraw"}),Object(P.jsx)(y.a,{type:"text",value:F,onChange:function(e){return L(e.target.value)},id:"url"})]})}),Object(P.jsx)(s.a,{md:"12",sm:"12",children:Object(P.jsxs)(r.a,{children:[Object(P.jsx)(s.a,{md:"6",sm:"6",children:Object(P.jsx)(j.a,{onClick:function(){return L(z)},children:"MAX"})}),Object(P.jsx)(s.a,{md:"6",sm:"6",children:Object(P.jsx)(j.a,{onClick:function(){return U(F)},children:"APPROVE"})})]})})]})})]})]})})};n.default=function(){return Object(a.useEffect)((function(){u.a.highlightAll()})),Object(P.jsx)(a.Fragment,{children:Object(P.jsx)(r.a,{className:"match-height",children:Object(P.jsx)(s.a,{md:"12",sm:"12",children:Object(P.jsx)(c.a,{title:"Staking Management",children:Object(P.jsx)(B,{})})})})})}},452:function(e,n,t){"use strict";var a=t(23),r=t(1),s=t(987),i=t(443),u=t(442),c=t(447),o=t(444),l=t(680),m=t(7);n.a=function(e){var n=e.title,t=e.children,f=e.noBody,p=e.code,d=e.iconCode,g=Object(r.useState)(!1),b=Object(a.a)(g,2),y=b[0],j=b[1],h=d||Object(m.jsx)(s.a,{size:15}),S=f?r.Fragment:i.a;return Object(m.jsxs)(u.a,{className:"card-snippet",children:[Object(m.jsxs)(c.a,{children:[Object(m.jsx)(o.a,{tag:"h4",children:n}),Object(m.jsx)("div",{className:"views cursor-pointer",onClick:function(){return j(!y)},children:h})]}),Object(m.jsx)(S,{children:t}),Object(m.jsx)(l.a,{isOpen:y,children:Object(m.jsx)(i.a,{children:p})})]})}}}]);
//# sourceMappingURL=150.7609a0d3.chunk.js.map