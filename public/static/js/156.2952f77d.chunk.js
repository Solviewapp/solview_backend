(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[156],{1944:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(23),o=n(1),c=n(446),r=n(479),i=n(925),l=n(102),u=n(105),d=n(759),j=n(109),h=n(754),m=n(437),b=n(475),g=n(468),f=n(1006),p=n(486),O=n(441),x=n(442),k=n(445),v=n(943),w=n(455),y=n(940),T=n(432),N=(n(481),n(7)),C=function(e){e.name;var t=e.role;return Object(N.jsxs)(o.Fragment,{children:[Object(N.jsx)("div",{className:"toastify-header",children:Object(N.jsxs)("div",{className:"title-wrapper",children:[Object(N.jsx)(c.a,{size:"sm",color:"success",icon:Object(N.jsx)(f.a,{size:12})}),Object(N.jsx)("h6",{className:"toast-title font-weight-bold",children:"Welcome, Kenan"})]})}),Object(N.jsx)("div",{className:"toastify-body",children:Object(N.jsxs)("span",{children:["You have successfully logged in as an ",t," user to Solview. Now you can start to explore. Enjoy!"]})})]})};t.default=function(e){var t=Object(r.a)(),c=Object(s.a)(t,2),f=c[0],A=(c[1],Object(o.useContext)(j.a)),S=Object(l.b)(),F=Object(h.g)(),I=Object(o.useState)("admin@demo.com"),E=Object(s.a)(I,2),R=E[0],z=E[1],K=Object(o.useState)("admin"),P=Object(s.a)(K,2),D=P[0],q=P[1],J="dark"===f?"login-v2-dark.svg":"login-v2.svg",W=n(586)("./".concat(J)).default;return Object(N.jsx)("div",{className:"auth-wrapper auth-v2",children:Object(N.jsxs)(O.a,{className:"auth-inner m-0",children:[Object(N.jsx)(m.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()},children:Object(N.jsx)("h2",{className:"brand-text text-primary ml-1",children:"SOLVIEW ADMIN"})}),Object(N.jsx)(x.a,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:Object(N.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:Object(N.jsx)("img",{className:"img-fluid",src:W,alt:"Login V2"})})}),Object(N.jsx)(x.a,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:Object(N.jsxs)(x.a,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[Object(N.jsx)(k.a,{tag:"h2",className:"font-weight-bold mb-1",children:"Welcome to Solview! \ud83d\udc4b"}),Object(N.jsxs)(p.AvForm,{className:"auth-login-form mt-2",onSubmit:function(e,t){t&&!t.length&&i.a.login({email:R,password:D}).then((function(e){console.log(e,"resData");var t=Object(a.a)(Object(a.a)({},e.data.userData),{},{accessToken:e.data.accessToken,refreshToken:e.data.refreshToken});S(Object(d.a)(t)),A.update(e.data.userData.ability),F.push(Object(g.c)(t.role)),u.f.success(Object(N.jsx)(C,{name:t.fullName||t.username||"John Doe",role:t.role||"admin"}),{transition:u.c,hideProgressBar:!0,autoClose:2e3})})).catch((function(e){return console.log(e)}))},children:[Object(N.jsxs)(v.a,{children:[Object(N.jsx)(w.a,{className:"form-label",for:"login-email",children:"Email"}),Object(N.jsx)(p.AvInput,{required:!0,autoFocus:!0,type:"email",value:R,id:"login-email",name:"login-email",placeholder:"john@example.com",onChange:function(e){return z(e.target.value)}})]}),Object(N.jsxs)(v.a,{children:[Object(N.jsx)("div",{className:"d-flex justify-content-between",children:Object(N.jsx)(w.a,{className:"form-label",for:"login-password",children:"Password"})}),Object(N.jsx)(b.a,{required:!0,tag:p.AvInput,value:D,id:"login-password",name:"login-password",className:"input-group-merge",onChange:function(e){return q(e.target.value)}})]}),Object(N.jsx)(v.a,{children:Object(N.jsx)(y.a,{type:"checkbox",className:"custom-control-Primary",id:"remember-me",label:"Remember Me"})}),Object(N.jsx)(T.a.Ripple,{color:"primary",block:!0,disabled:!R.length||!D.length,children:"Sign in"})]})]})})]})})}},475:function(e,t,n){"use strict";var a=n(2),s=n(46),o=n(23),c=n(101),r=n(1),i=n(440),l=n.n(i),u=n(1021),d=n(1020),j=n(455),h=n(956),m=n(958),b=n(957),g=n(758),f=n(7),p=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize"],O=function(e){var t=e.label,n=e.hideIcon,i=e.showIcon,O=e.visible,x=e.className,k=e.htmlFor,v=e.placeholder,w=e.iconSize,y=Object(c.a)(e,p),T=Object(r.useState)(O),N=Object(o.a)(T,2),C=N[0],A=N[1];return Object(f.jsxs)(r.Fragment,{children:[t?Object(f.jsx)(j.a,{for:k,children:t}):null,Object(f.jsxs)(h.a,{className:l()(Object(s.a)({},x,x)),children:[Object(f.jsx)(m.a,Object(a.a)(Object(a.a)({type:!1===C?"password":"text",placeholder:v||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7"},t&&k?{id:k}:{}),y)),Object(f.jsx)(b.a,{addonType:"append",onClick:function(){return A(!C)},children:Object(f.jsx)(g.a,{className:"cursor-pointer",children:function(){var e=w||14;return!1===C?n||Object(f.jsx)(u.a,{size:e}):i||Object(f.jsx)(d.a,{size:e})}()})})]})]})};t.a=O,O.defaultProps={visible:!1}},925:function(e,t,n){"use strict";var a=n(2),s=n(99),o=n(100),c=n(60),r=n.n(c),i={loginEndpoint:"/jwt/login",registerEndpoint:"/jwt/register",refreshEndpoint:"/jwt/refresh-token",logoutEndpoint:"/jwt/logout",login:"http://localhost:3333/user/login",tokenType:"Bearer",storageTokenKeyName:"accessToken",storageRefreshTokenKeyName:"refreshToken"},l=function(){function e(t){var n=this;Object(s.a)(this,e),this.jwtConfig=Object(a.a)({},i),this.isAlreadyFetchingAccessToken=!1,this.subscribers=[],this.jwtConfig=Object(a.a)(Object(a.a)({},this.jwtConfig),t),r.a.interceptors.request.use((function(e){var t=n.getToken();return t&&(e.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t)),e}),(function(e){return Promise.reject(e)})),r.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,a=e.response,s=t;return a&&401===a.status?(n.isAlreadyFetchingAccessToken||(n.isAlreadyFetchingAccessToken=!0,n.refreshToken().then((function(e){n.isAlreadyFetchingAccessToken=!1,n.setToken(e.data.accessToken),n.setRefreshToken(e.data.refreshToken),n.onAccessTokenFetched(e.data.accessToken)}))),new Promise((function(e){n.addSubscriber((function(t){s.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t),e(n.axios(s))}))}))):Promise.reject(e)}))}return Object(o.a)(e,[{key:"onAccessTokenFetched",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t(e)}))}},{key:"addSubscriber",value:function(e){this.subscribers.push(e)}},{key:"getToken",value:function(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}},{key:"getRefreshToken",value:function(){return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)}},{key:"setToken",value:function(e){localStorage.setItem(this.jwtConfig.storageTokenKeyName,e)}},{key:"setRefreshToken",value:function(e){localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName,e)}},{key:"login",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=[].concat(t);if(console.log(a,a.email,a.password,"no"),"kenan@gmail.com"===a[0].email&&"solviewadmin"===a[0].password){var s={email:"admin@demo.com",password:"admin"},o=r.a.post(this.jwtConfig.loginEndpoint,s);return o}var c={email:"no@demo.com",password:"admin"},i=r.a.post(this.jwtConfig.loginEndpoint,c);return i}},{key:"register",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.a.post.apply(r.a,[this.jwtConfig.registerEndpoint].concat(t))}},{key:"refreshToken",value:function(){return r.a.post(this.jwtConfig.refreshEndpoint,{refreshToken:this.getRefreshToken()})}}]),e}();var u={jwt:new l({})}.jwt;t.a=u}}]);
//# sourceMappingURL=156.2952f77d.chunk.js.map