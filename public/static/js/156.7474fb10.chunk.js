(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[156],{1871:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(23),c=n(1),r=n(444),o=n(477),i=n(909),l=n(101),u=n(104),j=n(746),h=n(108),d=n(741),b=n(436),m=n(473),g=n(466),f=n(990),p=n(484),O=n(440),x=n(441),k=n(445),v=n(927),y=n(454),w=n(924),T=n(431),N=(n(479),n(7)),A=function(e){e.name;var t=e.role;return Object(N.jsxs)(c.Fragment,{children:[Object(N.jsx)("div",{className:"toastify-header",children:Object(N.jsxs)("div",{className:"title-wrapper",children:[Object(N.jsx)(r.a,{size:"sm",color:"success",icon:Object(N.jsx)(f.a,{size:12})}),Object(N.jsx)("h6",{className:"toast-title font-weight-bold",children:"Welcome, Kenan"})]})}),Object(N.jsx)("div",{className:"toastify-body",children:Object(N.jsxs)("span",{children:["You have successfully logged in as an ",t," user to Solview. Now you can start to explore. Enjoy!"]})})]})};t.default=function(e){var t=Object(o.a)(),r=Object(s.a)(t,2),f=r[0],C=(r[1],Object(c.useContext)(h.a)),S=Object(l.b)(),F=Object(d.g)(),I=Object(c.useState)("admin@demo.com"),E=Object(s.a)(I,2),R=E[0],z=E[1],K=Object(c.useState)("admin"),P=Object(s.a)(K,2),D=P[0],q=P[1],J="dark"===f?"login-v2-dark.svg":"login-v2.svg",W=n(580)("./".concat(J)).default;return Object(N.jsx)("div",{className:"auth-wrapper auth-v2",children:Object(N.jsxs)(O.a,{className:"auth-inner m-0",children:[Object(N.jsx)(b.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()},children:Object(N.jsx)("h2",{className:"brand-text text-primary ml-1",children:"SOLVIEW ADMIN"})}),Object(N.jsx)(x.a,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:Object(N.jsx)("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:Object(N.jsx)("img",{className:"img-fluid",src:W,alt:"Login V2"})})}),Object(N.jsx)(x.a,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:Object(N.jsxs)(x.a,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[Object(N.jsx)(k.a,{tag:"h2",className:"font-weight-bold mb-1",children:"Welcome to Solview! \ud83d\udc4b"}),Object(N.jsxs)(p.AvForm,{className:"auth-login-form mt-2",onSubmit:function(e,t){t&&!t.length&&i.a.login({email:R,password:D}).then((function(e){console.log(e,"resData");var t=Object(a.a)(Object(a.a)({},e.data.userData),{},{accessToken:e.data.accessToken,refreshToken:e.data.refreshToken});S(Object(j.a)(t)),C.update(e.data.userData.ability),F.push(Object(g.c)(t.role)),u.f.success(Object(N.jsx)(A,{name:t.fullName||t.username||"John Doe",role:t.role||"admin"}),{transition:u.c,hideProgressBar:!0,autoClose:2e3})})).catch((function(e){return console.log(e)}))},children:[Object(N.jsxs)(v.a,{children:[Object(N.jsx)(y.a,{className:"form-label",for:"login-email",children:"Email"}),Object(N.jsx)(p.AvInput,{required:!0,autoFocus:!0,type:"email",value:R,id:"login-email",name:"login-email",placeholder:"john@example.com",onChange:function(e){return z(e.target.value)}})]}),Object(N.jsxs)(v.a,{children:[Object(N.jsx)("div",{className:"d-flex justify-content-between",children:Object(N.jsx)(y.a,{className:"form-label",for:"login-password",children:"Password"})}),Object(N.jsx)(m.a,{required:!0,tag:p.AvInput,value:D,id:"login-password",name:"login-password",className:"input-group-merge",onChange:function(e){return q(e.target.value)}})]}),Object(N.jsx)(v.a,{children:Object(N.jsx)(w.a,{type:"checkbox",className:"custom-control-Primary",id:"remember-me",label:"Remember Me"})}),Object(N.jsx)(T.a.Ripple,{color:"primary",block:!0,disabled:!R.length||!D.length,children:"Sign in"})]})]})})]})})}},473:function(e,t,n){"use strict";var a=n(2),s=n(46),c=n(23),r=n(100),o=n(1),i=n(439),l=n.n(i),u=n(1006),j=n(1005),h=n(454),d=n(940),b=n(942),m=n(941),g=n(745),f=n(7),p=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize"],O=function(e){var t=e.label,n=e.hideIcon,i=e.showIcon,O=e.visible,x=e.className,k=e.htmlFor,v=e.placeholder,y=e.iconSize,w=Object(r.a)(e,p),T=Object(o.useState)(O),N=Object(c.a)(T,2),A=N[0],C=N[1];return Object(f.jsxs)(o.Fragment,{children:[t?Object(f.jsx)(h.a,{for:k,children:t}):null,Object(f.jsxs)(d.a,{className:l()(Object(s.a)({},x,x)),children:[Object(f.jsx)(b.a,Object(a.a)(Object(a.a)({type:!1===A?"password":"text",placeholder:v||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7"},t&&k?{id:k}:{}),w)),Object(f.jsx)(m.a,{addonType:"append",onClick:function(){return C(!A)},children:Object(f.jsx)(g.a,{className:"cursor-pointer",children:function(){var e=y||14;return!1===A?n||Object(f.jsx)(u.a,{size:e}):i||Object(f.jsx)(j.a,{size:e})}()})})]})]})};t.a=O,O.defaultProps={visible:!1}},909:function(e,t,n){"use strict";var a=n(2),s=n(97),c=n(99),r=n(60),o=n.n(r),i={loginEndpoint:"/jwt/login",registerEndpoint:"/jwt/register",refreshEndpoint:"/jwt/refresh-token",logoutEndpoint:"/jwt/logout",tokenType:"Bearer",storageTokenKeyName:"accessToken",storageRefreshTokenKeyName:"refreshToken"},l=function(){function e(t){var n=this;Object(s.a)(this,e),this.jwtConfig=Object(a.a)({},i),this.isAlreadyFetchingAccessToken=!1,this.subscribers=[],this.jwtConfig=Object(a.a)(Object(a.a)({},this.jwtConfig),t),o.a.interceptors.request.use((function(e){var t=n.getToken();return t&&(e.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t)),e}),(function(e){return Promise.reject(e)})),o.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,a=e.response,s=t;return a&&401===a.status?(n.isAlreadyFetchingAccessToken||(n.isAlreadyFetchingAccessToken=!0,n.refreshToken().then((function(e){n.isAlreadyFetchingAccessToken=!1,n.setToken(e.data.accessToken),n.setRefreshToken(e.data.refreshToken),n.onAccessTokenFetched(e.data.accessToken)}))),new Promise((function(e){n.addSubscriber((function(t){s.headers.Authorization="".concat(n.jwtConfig.tokenType," ").concat(t),e(n.axios(s))}))}))):Promise.reject(e)}))}return Object(c.a)(e,[{key:"onAccessTokenFetched",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t(e)}))}},{key:"addSubscriber",value:function(e){this.subscribers.push(e)}},{key:"getToken",value:function(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}},{key:"getRefreshToken",value:function(){return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)}},{key:"setToken",value:function(e){localStorage.setItem(this.jwtConfig.storageTokenKeyName,e)}},{key:"setRefreshToken",value:function(e){localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName,e)}},{key:"login",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.a.post.apply(o.a,[this.jwtConfig.loginEndpoint].concat(t))}},{key:"register",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.a.post.apply(o.a,[this.jwtConfig.registerEndpoint].concat(t))}},{key:"refreshToken",value:function(){return o.a.post(this.jwtConfig.refreshEndpoint,{refreshToken:this.getRefreshToken()})}}]),e}();var u={jwt:new l({})}.jwt;t.a=u}}]);
//# sourceMappingURL=156.7474fb10.chunk.js.map